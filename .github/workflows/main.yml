name: Update Leaderboard
on:
  workflow_dispatch:
  schedule:
    - cron: "0 */1 * * *"
jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository content
        uses: actions/checkout@v2 # Checkout the repository content to github runner.

      - name: Setup Python Version
        uses: actions/setup-python@v2
        with:
          python-version: 3.8 # Install the python version needed

      - name: Create new readme
        run: python src/build_table.py

      - name: Commit change
        uses: EndBug/add-and-commit@v9
        with:
          add: 'readme.md'
          author_name: Bobby Palmer

          author_email: bobbyp@umich.edu

          default_author: github_actor

          message: 'Update leaderboard'

